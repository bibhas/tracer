#!/bin/sh
# 2016 Bibhas Acharya <mail@bibhas.com>
"exec" "python" "$0" "$@"

import os, sys
from implutils import *

if __name__ == "__main__":
    
    """
        Builds the targets as generated by `gen`.
    """
    
    ensure_programs_availability(exit_on_failure = True, programs = {
      
      "clang++" : "Install Xcode from the Mac App Store.",
      
      "ninja" : "Run `sudo brew install ninja`"
      
    })
    
    if len(sys.argv) > 2:
        
        print "Incorrect options!"
        
        exit(-1)
    
    cd(PRJ_PRODUCT_DIR)
    
    target = None
    
    if len(sys.argv) == 2:
        
        target = sys.argv[1]
        
    ninja(target)
        
    color_log("Building done!", "GREEN")

