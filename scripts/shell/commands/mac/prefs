#!/bin/sh
# 2016 Bibhas Acharya <mail@bibhas.com>
"exec" "python" "$0" "$@"

import os, sys
from implutils import *

if __name__ == "__main__":
    
    """
        Builds the targets as generated by `gen`.
    """
    
    argv = sys.argv
    
    if len(argv) == 3:
        
        if argv[1] == "read":
            
            v = Storage.get(argv[2])
            
            if v == None:
                
                print "Empty"
            
            else:
                
                print "%s = \"%s\"" % (argv[2], v)
            
            exit(1)
                
    if len(argv) >= 4:
        
        if argv[1] == "write":
            
            Storage.set(argv[2], argv[3])
            
            print "%s = \"%s\", ok." % (argv[2], argv[3])
            
            exit(1)
    
    print "Could not understand options!"
    
    print "Usage :"
    
    print "\tprefs [read | write] <attribute> <values>+"
    
    print ""
    
    exit(-1)